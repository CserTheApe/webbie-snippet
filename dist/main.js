(()=>{"use strict";const t={render(t){return`\n          ${this.css(t.css)}\n          ${this.html(t.html)}\n          `},html:t=>`\n            <div id="container">\n                ${t.copy?`<button ${t.buttonStyle?`style="${t.buttonStyle}"`:""} id="copier"><span id="coptext">Copy</span></button>`:""}\n                <pre ${t.rootStyle?`style="${t.rootStyle}"`:""} id="code-body"></pre>\n            </div>\n          `,css:t=>`\n      <style>\n        pre {\n            background-color: ${t.dark?"#222":"#eee"};\n            color: ${t.dark?"#eee":"#222"};\n            padding: 14px;\n            counter-reset: line;\n            border-radius: 5px;\n            overflow: auto;\n        }\n        pre code.numbered:before {\n            content: counter(line);\n            display: inline-block;\n            width: 20px;\n            border-right: 1px solid #888;\n            margin-right: 10px;\n            padding-right: 10px;\n            color: #888;\n          }\n        code {\n            counter-increment: line;\n            font-family: inherit;\n        }\n        #container {\n            position: relative;\n        }\n        #copier {\n            position: absolute;\n            right: 10px;\n            top: 10px;\n            background-color: ${t.dark?"#333":"#ddd"};\n            border: 2px solid ${t.dark?"#aaa":"#777"};\n            color: ${t.dark?"#aaa":"#777"};\n            border-radius: 5px;\n            padding: 5px;\n            font-size: 0.8em;\n            cursor: pointer;\n        }\n        #copier:active {\n            background-color: ${t.dark?"#555":"#bbb"};\n        }\n      </style>\n      `},e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};class n extends HTMLElement{constructor(){super();const n=null!==this.getAttribute("manual-spacing"),o=null!==this.getAttribute("dark"),r=null!==this.getAttribute("numbered"),i=null!==this.getAttribute("enable-copy"),d=this.getAttribute("pre-style"),l=this.getAttribute("button-style");this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=t.render({html:{copy:i,rootStyle:d,buttonStyle:l},css:{dark:o}});let s=this.innerHTML.split("\n");console.log(s),n||(s=function(t){let e=t.findIndex((t=>/\S/.test(t))),n=t.findLastIndex((t=>/\S/.test(t))),o=t.slice(e,n+1),r=o[0].search(/\S/);return r>0?o.map((t=>t.slice(r))):o}(s));let c=s.map((t=>function(t){for(let n of Object.keys(e))t=t.replaceAll(n,e[n]);return t}(t))),a=this.shadowRoot.getElementById("code-body"),p=document.createElement("br");for(let t of c){let e=document.createElement("code");r&&e.classList.add("numbered"),e.innerHTML=t,a.appendChild(e),a.appendChild(p.cloneNode())}if(i){let t=this.shadowRoot.getElementById("coptext");this.shadowRoot.getElementById("copier").addEventListener("click",(()=>{navigator.clipboard.writeText(s.join("\n")),t.textContent="Copied"}))}}}customElements.get("cwc-snippet")||customElements.define("cwc-snippet",n)})();